<input type="hidden" data-bind="field: 'playerCount'" value="1" />
<div data-bind="pane: 'components/optionButtons', data: { values: { 'Single': '1', 'Team': '2' }, value: fields.playerCount }"></div>

<div data-bind="foreach: [1, 2]">
    <h1>Select Team <span data-bind="text: $data"></span></h1>
    <div data-bind="arrayField: 'team' + $data, length: $root.fields.playerCount">
        <div data-bind="pane: 'selectPlayer', data: value, scope: { topic: 'player.name' }, resetScope: true"></div>
    </div>
</div>

<button data-bind="click: () => publish([
    { topic: 'player.selected', data: { playerId: fields.team1().map(x => x().playerId), name: fields.team1().map(x => x().name) } },
    { topic: 'player.selected', data: { playerId: fields.team2().map(x => x().playerId), name: fields.team2().map(x => x().name) } }
])()">Start Scoring</button>
<button data-bind="click: publish('ui.home')">Home</button>
